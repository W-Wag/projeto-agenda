<%- include('./includes/head.ejs') %>

<%- include ('./includes/nav.ejs') %>

<div class="container-fluid my-5">
  <div class="col-lg-8 px-0 m-auto">
    <h1 class="text-center fw-semibold">Agenda</h1>
    <p class="text-center text-sm">
      Seus contatos estão abaixo
    </p>

    <%- include('includes/messages') %>


    <% if(contatos.length > 0 && user) { %>
    <div class="responsive-table">
      <table class="table table-hover table-bordered my-3">
        <thead class="table-dark">
          <tr>
            <td>Nome</td>
            <td>Sobrenome</td>
            <td>Email</td>
            <td>Telefone</td>
            <td colspan="2">Editar e Excluir</td>
  
          </tr>
        </thead>

        <tbody>
          <% contatos.forEach(contato => { %>
         
            <tr>
              <td><%= contato.nome %></td>
              <td><%= contato.sobrenome %></td>
              <td><%= contato.email %></td>
              <td><%= contato.telefone %></td>
              <td><a href="/contato/index/<%= contato._id %>">Editar</a></td>
              <td><a class="text-danger" href="/contato/delete/<%= contato._id %>">Deletar</a></td>
            </tr>
          <% }); %>
        </tbody>
      </table>
    </div>
    <%} else { %>
      <p class="text-center lead m-5 alert alert-dark">Não existem contatos na sua agenda</p>
    <% } %>
  </div>
</div>

<%- include ('./includes/footer.ejs') %>